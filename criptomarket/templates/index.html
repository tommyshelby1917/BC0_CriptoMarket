{% extends 'base.html' %}
{% block title %} Benvinguda {% endblock %}
{% block body %}

<h1>Benvigut a Criptomarket</h1>

<div class="container">
    <div class="row wallet">
        
        <div class="one-half column">
            <h1 class="texto-portada">El teu wallet:</h1>
        </div>

        <div class="one-half column">
            <table class="wallet">
                <tr>
                    <th>Moneda</th>
                    <th>Quantitat</th>
                </tr>
                {% for moneda, valor in wallet.items() %}
                </tr>
                    <td>{{ moneda }}</td>
                    <td>{{ valor }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>

    </div>

    <div class="row moviments">

        <div class="one-half column">
            <table class="moviments">
                <tr>
                    <th>Data</th>
                    <th>Hora</th>
                    <th>De</th>
                    <th>Quantitat</th>
                    <th>A</th>
                    <th>Quantitat</th>
                </tr>
            {% if lista_movimientos |length > 0 %} 
                {% for movimiento in lista_movimientos %}
                    <tr>
                        <td>{{ movimiento['date']}}</td>
                        <td>{{ movimiento['time'] }}</td>
                        <td>{{ movimiento['from_moneda'] }}</td>
                        <td>{{ movimiento['from_cantidad'] }}</td>
                        <td>{{ movimiento['to_moneda'] }}</td>
                        <td>{{ movimiento['to_cantidad'] }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <p>No hi ha hagut moviments fins ara</p>
            {% endif %}
            </table>
        </div>

        <div class="one-half column">
            <h1 class="texto-portada">Els teus moviments:</h1>
        </div>

    </div>

    <div class="row preus">

        <div class="one-half column">
            <h1 class="texto-portada">Informació del preu:</h1>
        </div>

        <div class="one-half column">
            <table class="preus">
                <tr>
                    <th>Moneda</th>
                    <th>Preu</th>
                </tr>
            {% for i in dict_monedas %}
                <tr>
                    <td>{{ i }}</td>
                    <td>{{ dict_monedas[i][1]|round(3) }}€</td>
                </tr>
            {% endfor %}
            </table>    
        </div>

    </div>

</div>

{% endblock %}